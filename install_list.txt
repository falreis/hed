## PROTOBUF ##

wget https://github.com/google/protobuf/releases/download/v2.5.0/protobuf-2.5.0.tar.gz
cd protobuf-2.5.0/
wget https://raw.githubusercontent.com/google/protobuf/master/src/google/protobuf/stubs/atomicops_internals_generic_gcc.h -P src/google/protobuf/stubs/ 
./configure
make
make check
make install
sudo make install
export LD_LIBRARY_PATH=/usr/local/lib
protoc --version


## APT-GET ##

sudo apt-get install --no-install-recommends libboost-all-dev
sudo apt-get install libgflags-dev
sudo apt-get install libgoogle-glog-dev
sudo apt-get install libhdf5-serial-dev libhdf5-dev
sudo apt-get install libopenblas-dev
sudo apt-get install python-opencv
sudo apt-get install libopencv-dev
sudo apt-get install libleveldb-dev
sudo apt-get install libgflags-dev libgoogle-glog-dev liblmdb-dev
sudo apt-get install libsnappy-dev libatlas-base-dev

sudo ln -sf libhdf5_serial.so libhdf5.so
sudo ln -sf libhdf5_serial_hl.so libhdf5_hl.so

sudo apt-get install libtiff-tools
sudo apt-get install cmake


## LIBTIFF4 ##

wget http://old-releases.ubuntu.com/ubuntu/pool/universe/t/tiff3/libtiff4_3.9.7-2ubuntu1_amd64.deb
sudo dpkg -i libtiff4_3.9.7-2ubuntu1_amd64.deb

## OPENCV + LIBTIFF4 ## 

wget https://github.com/opencv/opencv/archive/3.4.2.zip
unzip 3.4.2.zip
rm 3.4.2.zip
mv opencv-3.4.2 OpenCV
cd OpenCV
mkdir build
cd build

cmake \
-DWITH_QT=ON \
-DWITH_OPENGL=ON \
-DFORCE_VTK=ON \
-DWITH_TBB=ON \
-DWITH_GDAL=ON \
-DWITH_XINE=ON \
-DBUILD_EXAMPLES=ON \
-DENABLE_PRECOMPILED_HEADERS=OFF \
-DBUILD_TIFF=ON \
-DWITH_1394=OFF \
-DENABLE_AVX=ON \
-DENABLE_SSE=ON \
-DENABLE_SSE2=ON \
-DENABLE_SSE3=ON \
-DENABLE_SSE41=ON \
-DENABLE_SSE42=ON \
-DENABLE_SSSE3=ON \
-DWITH_CUBLAS=OFF \
-DWITH_CUDA=OFF \
-DWITH_CUFFT=OFF \
-DWITH_FFMPEG=ON \
-DWITH_TBB=ON \
-DWITH_OPENMP=ON \
-DWITH_IPP=ON \
../

make -j4
sudo make install
sudo ldconfig

